flows:
  transfer_money:
    description: User wants to transfer money to a new or existing recipient
    steps:
      - call: add_recipient
      - collect: amount_of_money
        description: Amount of money to be sent to the recipient
      - collect: transfer_confirmation
        description: Final confirmation from the user if they really want to send the money
        ask_before_filling: true
      - action: send_money

  add_recipient:
    description: User wants to add a new recipient to transfer money
    steps:
      - call: collect_recipient_details
        next:
          - if: slots.is_existing_recipient
            then:
              - noop: true
                next: "END"
          - else:
            - action: add_new_recipient
              next: "END"

  collect_recipient_details:
    description: Details of a money transfer are collected here
    if: False
    steps:
      - collect: recipient_name
        description: Name of a recipient who should be sent money
      - collect: recipient_iban
        description: IBAN of a recipient who should be sent money
      - collect: recipient_phone_number
        description: Phone number of a recipient who should be sent money



#flows:
#  transfer_money:
#    description: This flow let's users send money to friends and family.
#    name: transfer money
#    steps:
#      - collect: transfer_money_recipient
#        description: the name of a person
#      - id: "ask_amount" # we keep this id, because we use it for a jump
#        collect: transfer_money_amount_of_money
#        description: the amount of money without any currency designation
#      - action: check_transfer_funds
#        next:
#          - if: not slots.transfer_money_has_sufficient_funds
#            then:
#              - action: utter_transfer_money_insufficient_funds
#              - set_slots:
#                  - transfer_money_amount_of_money: null
#                  - transfer_money_has_sufficient_funds: null
#                next: "ask_amount"
#          - else: transfer_money_final_confirmation
#      - id: transfer_money_final_confirmation
#        collect: transfer_money_final_confirmation
#        description: accepts True or False
#        ask_before_filling: true
#        next:
#          - if: not slots.transfer_money_final_confirmation
#            then:
#              - action: utter_transfer_cancelled
#                next: "END"
#          - else: execute_transfer
#      - id: execute_transfer
#        action: execute_transfer
#        next:
#          - if: slots.transfer_money_transfer_successful
#            then:
#              - action: utter_transfer_complete
#                next: "END"
#          - else:
#              - action: utter_transfer_failed
#                next: "END"
